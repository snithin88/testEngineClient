{"remainingRequest":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/snithinnarayanan/Booking/client/src/components/activaterules.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/snithinnarayanan/Booking/client/src/components/activaterules.vue","mtime":1582832638773},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAndnVlLW11bHRpc2VsZWN0JzsKaW1wb3J0IEFsZXJ0IGZyb20gJy4vQWxlcnQudnVlJzsKaW1wb3J0IGRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnCmltcG9ydCBsZWZ0TmF2IGZyb20gJy4vbGVmdE5hdi52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0d28tbGlzdHMiLAogIGRpc3BsYXk6ICJUd28gTGlzdHMiLAogIG9yZGVyOiAxLAogIGNvbXBvbmVudHM6IHsKICAgIGFsZXJ0OiBBbGVydCwKICAgIGxlZnROYXY6IGxlZnROYXYsCiAgICBNdWx0aXNlbGVjdCwKICAgIGRyYWdnYWJsZSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbmFibGVkcnVsZXM6IFtdLAogICAgICBkaXNhYmxlZHJ1bGVzOiBbXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRydWxlcygpIHsKICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYnVzcnVsZXMnOwogICAgICBheGlvcy5wb3N0KHBhdGgpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5tZXNzYWdlID0gJyc7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgIHRoaXMucnVsZXMgPSBbXTsKICAgICAgICAgIGNvbnN0IHJ1bGUgPSBbXTsKICAgICAgICAgIGxldCBydWxlVmFsdWUgPSAnJzsKICAgICAgICAgIGxldCBydWxlU3VidmFsdWUgPSAnJzsKICAgICAgICAgIGNvbnN0IGVydWxlID0gW107CiAgICAgICAgICBjb25zdCBkcnVsZSA9IFtdOwogICAgICAgICAgT2JqZWN0LmtleXMocmVzLmRhdGEpLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICAgICBydWxlVmFsdWUgPSByZXMuZGF0YVtrZXldOwogICAgICAgICAgICBjb25zb2xlLmxvZyhydWxlVmFsdWUpOwogICAgICAgICAgICBPYmplY3Qua2V5cyhydWxlVmFsdWUpLmZvckVhY2goKGtleTEpID0+IHsKICAgICAgICAgICAgICBydWxlU3VidmFsdWUgPSBydWxlVmFsdWVba2V5MV07CiAgICAgICAgICAgICAgaWYgKHJ1bGVTdWJ2YWx1ZSA9PSAidHJ1ZSIpIHsKICAgICAgICAgICAgICAgIGVydWxlLnB1c2goa2V5KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhYWFhYScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIGlmIChydWxlU3VidmFsdWUgPT0gImZhbHNlIikgewogICAgICAgICAgICAgICAgZHJ1bGUucHVzaChrZXkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuZW5hYmxlZHJ1bGVzID0gZXJ1bGU7CiAgICAgICAgICB0aGlzLmRpc2FibGVkcnVsZXMgPSBkcnVsZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICB0aGlzLmdldEJvb2tzKCk7CiAgICAgICAgfSk7CiAgICB9LCAgCiAgICBhZGQ6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLmxpc3QucHVzaCh7IG5hbWU6ICJKdWFuIiB9KTsKICAgIH0sCiAgICByZXBsYWNlOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5saXN0ID0gW3sgbmFtZTogIkVkZ2FyZCIgfV07CiAgICB9LAogICAgY2xvbmU6IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmFtZTogZWwubmFtZSArICIgY2xvbmVkIgogICAgICB9OwogICAgfSwKICAgIGxvZzogZnVuY3Rpb24oZXZ0KSB7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhldnQpOwogICAgfSwKICAgIHVwZGF0ZVN0YXR1cygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5lbmFibGVkcnVsZXMpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmRpc2FibGVkcnVsZXMpOwogICAgICBjb25zdCBwYXlsb2FkID0gewogICAgICAgICAgZW5hYmxlIDogdGhpcy5lbmFibGVkcnVsZXMsCiAgICAgICAgICBkaXNhYmxlIDogdGhpcy5kaXNhYmxlZHJ1bGVzLAogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTsKICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYWN0aXZhdGUnOwogICAgICBheGlvcy5wb3N0KHBhdGgsIHBheWxvYWQpCiAgICAgICAgLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHJlc3AuZGF0YTsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0cnVsZXMoKTsKICB9LAp9Owo="},{"version":3,"sources":["activaterules.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"activaterules.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\" style=\"max-width:100%;padding:0px;height:100%;\">\n  <leftNav></leftNav>\n    <div class=\"row\"\n    style=\"margin-left: 280px;border-left: 18px solid #f8f9fa;height:100%\">\n    <div class=\"col-3\" style=\"margin-top: 15px;\">\n      <h5>Enabled</h5>\n      <draggable class=\"list-group\" :list=\"enabledrules\" group=\"people\" @change=\"log\">\n        <div\n          class=\"list-group-item\"\n          v-for=\"(element, index) in enabledrules\"\n          :key=\"index\"\n        >\n          {{ element }} {{ index+1 }}\n        </div>\n      </draggable>\n    </div>\n\n    <div class=\"col-3\" style=\"margin-top: 15px;\">\n      <h5>Disabled</h5>\n      <draggable class=\"list-group\" :list=\"disabledrules\" group=\"people\" @change=\"log\">\n        <div\n          class=\"list-group-item\"\n          v-for=\"(element, index) in disabledrules\"\n          :key=\"index\"\n        >\n          {{ element }} {{ index+1 }}\n        </div>\n        <b-button type=\"button\" variant=\"primary\" @click=\"updateStatus()\"\n          style=\"width: 150px;margin-right: 30px;margin-top:30px;\">Update</b-button>\n      </draggable>\n    </div>\n    <rawDisplayer class=\"col-3\" :value=\"enabledrules\" title=\"List 1\" />\n\n    <rawDisplayer class=\"col-3\" :value=\"disabledrules\" title=\"List 2\" />\n  </div>\n  </div>\n</template>\n<script>\n\nimport axios from 'axios';\nimport Multiselect from 'vue-multiselect';\nimport Alert from './Alert.vue';\nimport draggable from 'vuedraggable'\nimport leftNav from './leftNav.vue';\n\nexport default {\n  name: \"two-lists\",\n  display: \"Two Lists\",\n  order: 1,\n  components: {\n    alert: Alert,\n    leftNav: leftNav,\n    Multiselect,\n    draggable,\n  },\n  data() {\n    return {\n      enabledrules: [],\n      disabledrules: [],\n    };\n  },\n  methods: {\n    getrules() {\n      const path = 'http://localhost:5000/busrules';\n      axios.post(path)\n        .then((res) => {\n          this.message = '';\n          this.showMessage = true;\n          console.log(res.data);\n          this.rules = [];\n          const rule = [];\n          let ruleValue = '';\n          let ruleSubvalue = '';\n          const erule = [];\n          const drule = [];\n          Object.keys(res.data).forEach((key) => {\n            ruleValue = res.data[key];\n            console.log(ruleValue);\n            Object.keys(ruleValue).forEach((key1) => {\n              ruleSubvalue = ruleValue[key1];\n              if (ruleSubvalue == \"true\") {\n                erule.push(key);\n                console.log('aaaaa');\n              }\n              else if (ruleSubvalue == \"false\") {\n                drule.push(key);\n              }\n            });\n          });\n          this.enabledrules = erule;\n          this.disabledrules = drule;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },  \n    add: function() {\n      this.list.push({ name: \"Juan\" });\n    },\n    replace: function() {\n      this.list = [{ name: \"Edgard\" }];\n    },\n    clone: function(el) {\n      return {\n        name: el.name + \" cloned\"\n      };\n    },\n    log: function(evt) {\n      window.console.log(evt);\n    },\n    updateStatus() {\n      console.log(this.enabledrules);\n      console.log(this.disabledrules);\n      const payload = {\n          enable : this.enabledrules,\n          disable : this.disabledrules,\n      };\n      console.log(payload);\n      const path = 'http://localhost:5000/activate';\n      axios.post(path, payload)\n        .then((resp) => {\n          this.message = resp.data;\n          this.showMessage = true;\n          window.scrollTo(0, 0);\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.log(error);\n        });\n    },\n  },\n  created() {\n    this.getrules();\n  },\n};\n</script>"]}]}