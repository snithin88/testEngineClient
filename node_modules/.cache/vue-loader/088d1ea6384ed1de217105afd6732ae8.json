{"remainingRequest":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/snithinnarayanan/Booking/client/src/components/display.vue?vue&type=style&index=0&id=cebb1c3c&scoped=true&lang=css&","dependencies":[{"path":"/Users/snithinnarayanan/Booking/client/src/components/display.vue","mtime":1580211476877},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgICBAbWVkaWEgKG1pbi13aWR0aDogNTc2cHgpIHsKLm1vZGFsLWRpYWxvZyB7CiAgICBtYXgtd2lkdGg6IDgwMHB4ICFpbXBvcnRhbnQ7Cn0KICAgIH0K"},{"version":3,"sources":["display.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA","file":"display.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-sm-10\">\n        <h1>Cost Model For Lots</h1>\n        <hr><br><br>\n        <alert :message=message v-if=\"showMessage\"></alert>\n        <br><br>\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Lot ID</th>\n              <th scope=\"col\">Lot Name</th>\n              <th scope=\"col\">City</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(lot, key) in lotss\" :key=\"key\" >\n              <td>{{ lotcode[key] }}</td>\n              <td>{{ lot }}</td>\n              <td>{{ citycode[key] }}</td>\n              <td>\n                <div class=\"btn-group\" role=\"group\">\n                  <button\n                          type=\"button\"\n                          class=\"btn btn-warning btn-sm\"\n                          v-b-modal.book-update-modal\n                          @click=\"displaylot(lotcode[key])\">\n                      View\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <b-modal ref=\"displaylotModal\"\n            id=\"book-update-modal\"\n            title=\"\"\n            hide-footer>\n          <div id=\"response\"></div>\n    </b-modal>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Alert from './Alert.vue';\n\nexport default {\n  data() {\n    return {\n      lotss: [],\n      lotcode: [],\n      citycode: [],\n      lot: '',\n      key: '',\n      message: '',\n      showMessage: false,\n      editForm: {\n        id: '',\n        title: '',\n        author: '',\n        read: [],\n      },\n    };\n  },\n  components: {\n    alert: Alert,\n  },\n  methods: {\n    getlots() {\n      axios.all([\n        axios.get('http://localhost:5000/lots'),\n        axios.get('cities.json'),\n      ])\n        .then(axios.spread((lotcost, city) => {\n          //  console.log(lotcost.data);\n          console.log(city.data);\n          const cities = city.data;\n          const lots = Object.keys(lotcost.data);\n          console.log(lots);\n          this.lotss = [];\n          this.lotcode = [];\n          this.citycode = [];\n          const lot1 = [];\n          const lot2 = [];\n          const lot3 = [];\n          Object.keys(cities).forEach((key) => {\n            const val = Object.keys(cities[key]);\n            const cityname = Object.keys(cities);\n            const len1 = val.length;\n            const len2 = lots.length;\n            const ctt = key;\n            console.log(ctt);\n            console.log(val);\n            console.log(cityname);\n            for (let i = 0; i < len1; i += 1) {\n              const key1 = val[i];\n              const val1 = cities[key][key1];\n              //  console.log(key1);\n              for (let j = 0; j < len2; j += 1) {\n                const key2 = lots[j];\n                //  console.log(key2);\n                if (key1 === key2) {\n                  lot1.push(val1);\n                  lot2.push(key1);\n                  lot3.push(key);\n                }\n              }\n            }\n          });\n          this.lotss = lot1;\n          this.lotcode = lot2;\n          this.citycode = lot3;\n          console.log(this.lotss);\n        }));\n    },\n    displaylot(lot) {\n      this.editForm = lot;\n      const lotid = lot;\n      console.log(this.editForm);\n      const path = `http://localhost:5000/lots/${lotid}`;\n      axios.put(path)\n        .then((res) => {\n          this.message = '';\n          this.showMessage = true;\n          document.getElementById('response').innerHTML = res.data;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },\n  },\n  created() {\n    this.getlots();\n  },\n};\n</script>\n\n<style scoped>\n    @media (min-width: 576px) {\n.modal-dialog {\n    max-width: 800px !important;\n}\n    }\n</style>\n"]}]}