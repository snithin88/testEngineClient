{"remainingRequest":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/snithinnarayanan/Booking/client/src/components/display.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/snithinnarayanan/Booking/client/src/components/display.vue","mtime":1580233213570},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBBbGVydCBmcm9tICcuL0FsZXJ0LnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvdHNzOiBbXSwKICAgICAgbG90Y29kZTogW10sCiAgICAgIGNpdHljb2RlOiBbXSwKICAgICAgbG90OiAnJywKICAgICAga2V5OiAnJywKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHNob3dNZXNzYWdlOiBmYWxzZSwKICAgICAgZWRpdEZvcm06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgcmVhZDogW10sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgYWxlcnQ6IEFsZXJ0LAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0bG90cygpIHsKICAgICAgYXhpb3MuYWxsKFsKICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9sb3RzJyksCiAgICAgICAgYXhpb3MuZ2V0KCdjaXRpZXMuanNvbicpLAogICAgICBdKQogICAgICAgIC50aGVuKGF4aW9zLnNwcmVhZCgobG90Y29zdCwgY2l0eSkgPT4gewogICAgICAgICAgLy8gIGNvbnNvbGUubG9nKGxvdGNvc3QuZGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhjaXR5LmRhdGEpOwogICAgICAgICAgY29uc3QgY2l0aWVzID0gY2l0eS5kYXRhOwogICAgICAgICAgY29uc3QgbG90cyA9IE9iamVjdC5rZXlzKGxvdGNvc3QuZGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhsb3RzKTsKICAgICAgICAgIHRoaXMubG90c3MgPSBbXTsKICAgICAgICAgIHRoaXMubG90Y29kZSA9IFtdOwogICAgICAgICAgdGhpcy5jaXR5Y29kZSA9IFtdOwogICAgICAgICAgY29uc3QgbG90MSA9IFtdOwogICAgICAgICAgY29uc3QgbG90MiA9IFtdOwogICAgICAgICAgY29uc3QgbG90MyA9IFtdOwogICAgICAgICAgT2JqZWN0LmtleXMoY2l0aWVzKS5mb3JFYWNoKChrZXkpID0+IHsKICAgICAgICAgICAgY29uc3QgdmFsID0gT2JqZWN0LmtleXMoY2l0aWVzW2tleV0pOwogICAgICAgICAgICBjb25zdCBjaXR5bmFtZSA9IE9iamVjdC5rZXlzKGNpdGllcyk7CiAgICAgICAgICAgIGNvbnN0IGxlbjEgPSB2YWwubGVuZ3RoOwogICAgICAgICAgICBjb25zdCBsZW4yID0gbG90cy5sZW5ndGg7CiAgICAgICAgICAgIGNvbnN0IGN0dCA9IGtleTsKICAgICAgICAgICAgY29uc29sZS5sb2coY3R0KTsKICAgICAgICAgICAgY29uc29sZS5sb2codmFsKTsKICAgICAgICAgICAgY29uc29sZS5sb2coY2l0eW5hbWUpOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjE7IGkgKz0gMSkgewogICAgICAgICAgICAgIGNvbnN0IGtleTEgPSB2YWxbaV07CiAgICAgICAgICAgICAgY29uc3QgdmFsMSA9IGNpdGllc1trZXldW2tleTFdOwogICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhrZXkxKTsKICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlbjI7IGogKz0gMSkgewogICAgICAgICAgICAgICAgY29uc3Qga2V5MiA9IGxvdHNbal07CiAgICAgICAgICAgICAgICAvLyAgY29uc29sZS5sb2coa2V5Mik7CiAgICAgICAgICAgICAgICBpZiAoa2V5MSA9PT0ga2V5MikgewogICAgICAgICAgICAgICAgICBsb3QxLnB1c2godmFsMSk7CiAgICAgICAgICAgICAgICAgIGxvdDIucHVzaChrZXkxKTsKICAgICAgICAgICAgICAgICAgbG90My5wdXNoKGtleSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubG90c3MgPSBsb3QxOwogICAgICAgICAgdGhpcy5sb3Rjb2RlID0gbG90MjsKICAgICAgICAgIHRoaXMuY2l0eWNvZGUgPSBsb3QzOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5sb3Rzcyk7CiAgICAgICAgfSkpOwogICAgfSwKICAgIHByaWNpbmdsb3QobG90KSB7CiAgICAgIC8vICB0aGlzLmVkaXRGb3JtID0gbG90OwogICAgICAvLyAgY29uc3QgbG90aWQgPSBsb3Q7CiAgICAgIC8vICBjb25zb2xlLmxvZyh0aGlzLmVkaXRGb3JtKTsKICAgICAgY29uc3QgcGF0aCA9IGBodHRwOi8vbG9jYWxob3N0OjUwMDAvbG90cy8ke2xvdH1gOwogICAgICBheGlvcy5wdXQocGF0aCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnJzsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3BvbnNlJykuaW5uZXJIVE1MID0gcmVzLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgICAgIH0pOwogICAgfSwKICAgIGxvdGJ1c2luZXNzKGxvdCkgewogICAgICB0aGlzLmVkaXRGb3JtID0gbG90OwogICAgICBjb25zdCBsb3RpZCA9IGxvdDsKICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0Rm9ybSk7CiAgICAgIGNvbnN0IHBhdGggPSBgaHR0cDovL2xvY2FsaG9zdDo1MDAwL2xvdHMvYnVzaW5lc3MvJHtsb3RpZH1gOwogICAgICBheGlvcy5wdXQocGF0aCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnJzsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3BvbnNlJykuaW5uZXJIVE1MID0gcmVzLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldGxvdHMoKTsKICB9LAp9Owo="},{"version":3,"sources":["display.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"display.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-sm-10\">\n        <h1>Cost Model For Lots</h1>\n        <hr><br><br>\n        <alert :message=message v-if=\"showMessage\"></alert>\n        <br><br>\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Lot ID</th>\n              <th scope=\"col\">Lot Name</th>\n              <th scope=\"col\">City</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(lot, key) in lotss\" :key=\"key\" >\n              <td>{{ lotcode[key] }}</td>\n              <td>{{ lot }}</td>\n              <td>{{ citycode[key] }}</td>\n              <td>\n                <div class=\"btn-group\" role=\"group\">\n                  <button\n                          type=\"button\"\n                          class=\"btn btn-warning btn-sm\"\n                          v-b-modal.book-update-modal\n                          @click=\"pricinglot(lotcode[key])\"\n                          style=\"margin-right: 20px;\">\n                      Lot Pricing\n                  </button>\n                  <button\n                          type=\"button\"\n                          class=\"btn btn-warning btn-sm\"\n                          v-b-modal.book-update-modal\n                          @click=\"lotbusiness(lotcode[key])\">\n                      Lot Business Rules\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <b-modal ref=\"pricinglotModal\"\n            id=\"book-update-modal\"\n            title=\"\"\n            hide-footer>\n          <div id=\"response\" class=\"tablemodal\"></div>\n    </b-modal>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Alert from './Alert.vue';\n\nexport default {\n  data() {\n    return {\n      lotss: [],\n      lotcode: [],\n      citycode: [],\n      lot: '',\n      key: '',\n      message: '',\n      showMessage: false,\n      editForm: {\n        id: '',\n        title: '',\n        author: '',\n        read: [],\n      },\n    };\n  },\n  components: {\n    alert: Alert,\n  },\n  methods: {\n    getlots() {\n      axios.all([\n        axios.get('http://localhost:5000/lots'),\n        axios.get('cities.json'),\n      ])\n        .then(axios.spread((lotcost, city) => {\n          //  console.log(lotcost.data);\n          console.log(city.data);\n          const cities = city.data;\n          const lots = Object.keys(lotcost.data);\n          console.log(lots);\n          this.lotss = [];\n          this.lotcode = [];\n          this.citycode = [];\n          const lot1 = [];\n          const lot2 = [];\n          const lot3 = [];\n          Object.keys(cities).forEach((key) => {\n            const val = Object.keys(cities[key]);\n            const cityname = Object.keys(cities);\n            const len1 = val.length;\n            const len2 = lots.length;\n            const ctt = key;\n            console.log(ctt);\n            console.log(val);\n            console.log(cityname);\n            for (let i = 0; i < len1; i += 1) {\n              const key1 = val[i];\n              const val1 = cities[key][key1];\n              //  console.log(key1);\n              for (let j = 0; j < len2; j += 1) {\n                const key2 = lots[j];\n                //  console.log(key2);\n                if (key1 === key2) {\n                  lot1.push(val1);\n                  lot2.push(key1);\n                  lot3.push(key);\n                }\n              }\n            }\n          });\n          this.lotss = lot1;\n          this.lotcode = lot2;\n          this.citycode = lot3;\n          console.log(this.lotss);\n        }));\n    },\n    pricinglot(lot) {\n      //  this.editForm = lot;\n      //  const lotid = lot;\n      //  console.log(this.editForm);\n      const path = `http://localhost:5000/lots/${lot}`;\n      axios.put(path)\n        .then((res) => {\n          this.message = '';\n          this.showMessage = true;\n          document.getElementById('response').innerHTML = res.data;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },\n    lotbusiness(lot) {\n      this.editForm = lot;\n      const lotid = lot;\n      console.log(this.editForm);\n      const path = `http://localhost:5000/lots/business/${lotid}`;\n      axios.put(path)\n        .then((res) => {\n          this.message = '';\n          this.showMessage = true;\n          document.getElementById('response').innerHTML = res.data;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },\n  },\n  created() {\n    this.getlots();\n  },\n};\n</script>\n"]}]}