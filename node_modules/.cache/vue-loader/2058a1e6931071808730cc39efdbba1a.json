{"remainingRequest":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/snithinnarayanan/Booking/client/src/components/rulespriority.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/snithinnarayanan/Booking/client/src/components/rulespriority.vue","mtime":1582835968915},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgTXVsdGlzZWxlY3QgZnJvbSAndnVlLW11bHRpc2VsZWN0JzsKaW1wb3J0IEFsZXJ0IGZyb20gJy4vQWxlcnQudnVlJzsKaW1wb3J0IGRyYWdnYWJsZSBmcm9tICd2dWVkcmFnZ2FibGUnCmltcG9ydCBsZWZ0TmF2IGZyb20gJy4vbGVmdE5hdi52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0d28tbGlzdHMiLAogIGRpc3BsYXk6ICJUd28gTGlzdHMiLAogIG9yZGVyOiAxLAogIGNvbXBvbmVudHM6IHsKICAgIGFsZXJ0OiBBbGVydCwKICAgIGxlZnROYXY6IGxlZnROYXYsCiAgICBNdWx0aXNlbGVjdCwKICAgIGRyYWdnYWJsZSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbmFibGVkcnVsZXM6IFtdLAogICAgICBkaXNhYmxlZHJ1bGVzOiBbXSwKICAgICAgb3B0aW9ucnVsZXM6IFtdLAogICAgICBtYW5kYXRvcnlydWxlczogW10sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0cnVsZXMoKSB7CiAgICAgIGNvbnN0IHBhdGggPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2J1c3J1bGVzJzsKICAgICAgYXhpb3MucG9zdChwYXRoKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICcnOwogICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICB0aGlzLnJ1bGVzID0gW107CiAgICAgICAgICBjb25zdCBydWxlID0gW107CiAgICAgICAgICBsZXQgcnVsZVZhbHVlID0gJyc7CiAgICAgICAgICBsZXQgcnVsZVN1YnZhbHVlID0gJyc7CiAgICAgICAgICBjb25zdCBlcnVsZSA9IHt9OwogICAgICAgICAgY29uc3QgbXJ1bGUgPSBbXTsKICAgICAgICAgIE9iamVjdC5rZXlzKHJlcy5kYXRhKS5mb3JFYWNoKChrZXkpID0+IHsKICAgICAgICAgICAgcnVsZVZhbHVlID0gcmVzLmRhdGFba2V5XTsKICAgICAgICAgICAgY29uc29sZS5sb2cocnVsZVZhbHVlKTsKICAgICAgICAgIC8vICBPYmplY3Qua2V5cyhydWxlVmFsdWUpLmZvckVhY2goKGtleTEpID0+IHsKICAgICAgICAgICAvLyAgIHJ1bGVTdWJ2YWx1ZSA9IHJ1bGVWYWx1ZVtrZXkxXTsKICAgICAgICAgICAgaWYgKHJ1bGVWYWx1ZVsnZW5hYmxlJ10gPT0gInRydWUiICYmIHJ1bGVWYWx1ZVsncHJpb3JpdHl0eXBlJ10gPT0gIm9wdGlvbmFsIikgewogICAgICAgICAgICAgICAvLyBlcnVsZS5wdXNoKHt0aXRsZSxrZXl9KTsKICAgICAgICAgICAgICAgLy8gYXJyLnB1c2goe3RpdGxlLCBsaW5rfSk7CiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBydWxlVmFsdWVbJ3ByaW9yaXR5dmFsdWUnXTsKICAgICAgICAgICAgICAgIGVydWxlW3RpdGxlXSA9IGtleTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhYWFhYScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgaWYgKHJ1bGVWYWx1ZVsnZW5hYmxlJ10gPT0gInRydWUiICYmIHJ1bGVWYWx1ZVsncHJpb3JpdHl0eXBlJ10gPT0gIm1hbmRhdG9yeSIpIHsKICAgICAgICAgICAgICAgIG1ydWxlLnB1c2goa2V5KTsKICAgICAgICAgICAgfQogICAgICAgICAgIC8vIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmVuYWJsZWRydWxlcyA9IGVydWxlOwogICAgICAgICAgdGhpcy5tYW5kYXRvcnlydWxlcyA9IG1ydWxlOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5lbmFibGVkcnVsZXMpOwogICAgICAgICAgY29uc3Qga2V5MSA9IE9iamVjdC5rZXlzKHRoaXMuZW5hYmxlZHJ1bGVzKTsKICAgICAgICAgIGNvbnN0IGxlbjEgPSBrZXkxLmxlbmd0aDsKICAgICAgICAgIGZvcih2YXIgaSA9IDE7IGkgPD0gbGVuMTsgaSsrKQogICAgICAgICAgewogICAgICAgICAgICB0aGlzLm9wdGlvbnJ1bGVzLnB1c2godGhpcy5lbmFibGVkcnVsZXNbaV0pOwogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5lbmFibGVkcnVsZXNbMV0pOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5vcHRpb25ydWxlcyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgICAgIH0pOwogICAgfSwgIAogICAgYWRkOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5saXN0LnB1c2goeyBuYW1lOiAiSnVhbiIgfSk7CiAgICB9LAogICAgcmVwbGFjZTogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMubGlzdCA9IFt7IG5hbWU6ICJFZGdhcmQiIH1dOwogICAgfSwKICAgIGNsb25lOiBmdW5jdGlvbihlbCkgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IGVsLm5hbWUgKyAiIGNsb25lZCIKICAgICAgfTsKICAgIH0sCiAgICBsb2c6IGZ1bmN0aW9uKGV2dCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coZXZ0KTsKICAgIH0sCiAgICB1cGRhdGVQcmlvcml0eSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5vcHRpb25ydWxlcyk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFuZGF0b3J5cnVsZXMpOwogICAgICBjb25zdCBwYXlsb2FkID0gewogICAgICAgICAgb3B0aW9ucyA6IHRoaXMub3B0aW9ucnVsZXMsCiAgICAgICAgICBtYW5kYXRvcnkgOiB0aGlzLm1hbmRhdG9yeXJ1bGVzLAogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTsKICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvcHJpb3JpdHknOwogICAgICBheGlvcy5wb3N0KHBhdGgsIHBheWxvYWQpCiAgICAgICAgLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHJlc3AuZGF0YTsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7IAogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldHJ1bGVzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["rulespriority.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rulespriority.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\" style=\"max-width:100%;padding:0px;height:100%;\">\n  <leftNav></leftNav>\n     <div class=\"row\"\n    style=\"margin-left: 280px;border-left: 18px solid #f8f9fa;height:100%\">\n    <div class=\"col-3\" style=\"margin-top: 15px;\">\n      <h5>Optional Rules</h5>\n      <br>\n      <draggable class=\"list-group\" :list=\"optionrules\" group=\"people\" @change=\"log\">\n        <div\n          class=\"list-group-item\"\n          v-for=\"(element, index) in optionrules\"\n          :key=\"index\"\n          style=\"padding-top: 0.25rem;padding-bottom: 0.25rem;\"\n        >\n          {{ index+1 }}. {{ element }}\n        </div>\n      </draggable>\n    </div>\n\n    <div class=\"col-3\" style=\"margin-top: 15px;\">\n      <h5>Mandatory Rules</h5>\n      <br>\n      <draggable class=\"list-group\" :list=\"mandatoryrules\" group=\"people\" @change=\"log\">\n        <div\n          class=\"list-group-item\"\n          v-for=\"(element, index) in mandatoryrules\"\n          :key=\"index\"\n          style=\"padding-top: 0.25rem;padding-bottom: 0.25rem;\"\n        >\n          {{ element }}\n        </div>\n        \n      </draggable>\n    </div>\n\n    <b-button type=\"button\" variant=\"primary\" @click=\"updatePriority()\"\n    style=\"width: 150px;margin-left: 30px;margin-top:66px;height:40px;\">Update</b-button>\n\n    <rawDisplayer class=\"col-3\" :value=\"optionrules\" title=\"List 1\" />\n\n    <rawDisplayer class=\"col-3\" :value=\"mandatoryrules\" title=\"List 2\" />\n  </div>\n  </div>\n</template>\n<script>\n\nimport axios from 'axios';\nimport Multiselect from 'vue-multiselect';\nimport Alert from './Alert.vue';\nimport draggable from 'vuedraggable'\nimport leftNav from './leftNav.vue';\n\nexport default {\n  name: \"two-lists\",\n  display: \"Two Lists\",\n  order: 1,\n  components: {\n    alert: Alert,\n    leftNav: leftNav,\n    Multiselect,\n    draggable,\n  },\n  data() {\n    return {\n      enabledrules: [],\n      disabledrules: [],\n      optionrules: [],\n      mandatoryrules: [],\n    };\n  },\n  methods: {\n    getrules() {\n      const path = 'http://localhost:5000/busrules';\n      axios.post(path)\n        .then((res) => {\n          this.message = '';\n          this.showMessage = true;\n          console.log(res.data);\n          this.rules = [];\n          const rule = [];\n          let ruleValue = '';\n          let ruleSubvalue = '';\n          const erule = {};\n          const mrule = [];\n          Object.keys(res.data).forEach((key) => {\n            ruleValue = res.data[key];\n            console.log(ruleValue);\n          //  Object.keys(ruleValue).forEach((key1) => {\n           //   ruleSubvalue = ruleValue[key1];\n            if (ruleValue['enable'] == \"true\" && ruleValue['prioritytype'] == \"optional\") {\n               // erule.push({title,key});\n               // arr.push({title, link});\n                let title = ruleValue['priorityvalue'];\n                erule[title] = key;\n                console.log('aaaaa');\n            }\n            else if (ruleValue['enable'] == \"true\" && ruleValue['prioritytype'] == \"mandatory\") {\n                mrule.push(key);\n            }\n           // });\n          });\n          this.enabledrules = erule;\n          this.mandatoryrules = mrule;\n          console.log(this.enabledrules);\n          const key1 = Object.keys(this.enabledrules);\n          const len1 = key1.length;\n          for(var i = 1; i <= len1; i++)\n          {\n            this.optionrules.push(this.enabledrules[i]);\n          }\n          console.log(this.enabledrules[1]);\n          console.log(this.optionrules);\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },  \n    add: function() {\n      this.list.push({ name: \"Juan\" });\n    },\n    replace: function() {\n      this.list = [{ name: \"Edgard\" }];\n    },\n    clone: function(el) {\n      return {\n        name: el.name + \" cloned\"\n      };\n    },\n    log: function(evt) {\n      window.console.log(evt);\n    },\n    updatePriority() {\n      console.log(this.optionrules);\n      console.log(this.mandatoryrules);\n      const payload = {\n          options : this.optionrules,\n          mandatory : this.mandatoryrules,\n      };\n      console.log(payload);\n      const path = 'http://localhost:5000/priority';\n      axios.post(path, payload)\n        .then((resp) => {\n          this.message = resp.data;\n          this.showMessage = true;\n          window.scrollTo(0, 0);\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.log(error);\n        }); \n    },\n  },\n  created() {\n    this.getrules();\n  },\n};\n</script>"]}]}