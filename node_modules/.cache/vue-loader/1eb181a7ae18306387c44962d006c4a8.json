{"remainingRequest":"/Users/snithinnarayanan/testEngine/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/snithinnarayanan/testEngine/client/src/components/activaterules.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/snithinnarayanan/testEngine/client/src/components/activaterules.vue","mtime":1583824351428},{"path":"/Users/snithinnarayanan/testEngine/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/testEngine/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/testEngine/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/testEngine/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgQWxlcnQgZnJvbSAnLi9BbGVydC52dWUnOwppbXBvcnQgZHJhZ2dhYmxlIGZyb20gJ3Z1ZWRyYWdnYWJsZScKaW1wb3J0IGxlZnROYXYgZnJvbSAnLi9sZWZ0TmF2LnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFjdGl2YXRlLXJ1bGVzIiwKICBkaXNwbGF5OiAiQWN0aXZhdGUgUnVsZXMiLAogIG9yZGVyOiAxLAogIGNvbXBvbmVudHM6IHsKICAgIGFsZXJ0OiBBbGVydCwKICAgIGxlZnROYXY6IGxlZnROYXYsCiAgICBkcmFnZ2FibGUsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW5hYmxlZHJ1bGVzOiBbXSwKICAgICAgZGlzYWJsZWRydWxlczogW10sCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBzaG93TWVzc2FnZTogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8gRmV0Y2ggYWxsIHRoZSBidXNpbmVzcyBydWxlcyBmcm9tIHRoZSBzZXJ2ZXIKICAgIGdldHJ1bGVzKCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9idXNydWxlcyc7CiAgICAgIGF4aW9zLnBvc3QocGF0aCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBsZXQgcnVsZVZhbHVlID0gJyc7CiAgICAgICAgICBsZXQgcnVsZVN1YnZhbHVlID0gJyc7CiAgICAgICAgICBjb25zdCBlcnVsZSA9IFtdOwogICAgICAgICAgY29uc3QgZHJ1bGUgPSBbXTsKICAgICAgICAgIC8vIEl0ZXJhdGUgYnVzaW5lc3MgcnVsZXMgZnJvbSB0aGUgcmVzcG9uc2UgZGF0YQogICAgICAgICAgT2JqZWN0LmtleXMocmVzLmRhdGEpLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICAgICBydWxlVmFsdWUgPSByZXMuZGF0YVtrZXldOwogICAgICAgICAgICAvLyBJdGVyYXRlIGVhY2ggYnVzaW5lc3MgcnVsZSB0byBnZXQgdGhlIHZhbHVlIG9mIGVuYWJsZSBrZXkKICAgICAgICAgICAgT2JqZWN0LmtleXMocnVsZVZhbHVlKS5mb3JFYWNoKChrZXkxKSA9PiB7CiAgICAgICAgICAgICAgcnVsZVN1YnZhbHVlID0gcnVsZVZhbHVlW2tleTFdOwogICAgICAgICAgICAgIC8vIENvbXBhcmUgZW5hYmxlIGlzIHRydWUgb3Igbm90CiAgICAgICAgICAgICAgaWYgKHJ1bGVTdWJ2YWx1ZSA9PSAidHJ1ZSIpIHsKICAgICAgICAgICAgICAgIGVydWxlLnB1c2goa2V5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSBpZiAocnVsZVN1YnZhbHVlID09ICJmYWxzZSIpIHsKICAgICAgICAgICAgICAgIGRydWxlLnB1c2goa2V5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmVuYWJsZWRydWxlcyA9IGVydWxlOwogICAgICAgICAgdGhpcy5kaXNhYmxlZHJ1bGVzID0gZHJ1bGU7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBsb2c6IGZ1bmN0aW9uKGV2dCkgewogICAgICB3aW5kb3cuY29uc29sZS5sb2coZXZ0KTsKICAgIH0sCiAgICAvLyBVcGRhdGUgdGhlIHJ1bGVzIGJhc2VkIG9uIGVuYWJsZSBzdGF0dXMKICAgIHVwZGF0ZVN0YXR1cygpIHsKICAgICAgY29uc3QgcGF5bG9hZCA9IHsKICAgICAgICAgIGVuYWJsZSA6IHRoaXMuZW5hYmxlZHJ1bGVzLAogICAgICAgICAgZGlzYWJsZSA6IHRoaXMuZGlzYWJsZWRydWxlcywKICAgICAgfTsKICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYWN0aXZhdGUnOwogICAgICBheGlvcy5wb3N0KHBhdGgsIHBheWxvYWQpCiAgICAgICAgLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICdVcGRhdGVkJzsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldHJ1bGVzKCk7CiAgfSwKfTsK"},{"version":3,"sources":["activaterules.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"activaterules.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\" style=\"max-width:100%;padding:0px;height:100%;\">\n <!--  <leftNav></leftNav> Left side Navigation -->\n    <div class=\"row\"\n    style=\"margin-left: 280px;border-left: 18px solid #f8f9fa;height:100%\">\n    <br><br>\n    <div style=\"height: 20px;width: 100%;position: absolute;margin-bottom: 20px;\n    margin-left: 15px;margin-top: 15px;\">\n    <h4>Rule Status</h4>\n    <hr>\n    </div>\n    <!-- Enabled Rules are listed here -->\n    <div class=\"col-3\" style=\"margin-top: 85px;\">\n      <h5>Enabled</h5>\n      <br>\n      <draggable class=\"list-group\" :list=\"enabledrules\" group=\"rules\" @change=\"log\">\n        <div\n          class=\"list-group-item\"\n          v-for=\"(element, index) in enabledrules\"\n          :key=\"index\"\n          style=\"padding-top: 0.25rem;padding-bottom: 0.25rem;\"\n        >\n          {{ element }}\n        </div>\n      </draggable>\n    </div>\n    <!-- Disabled Rules are listed here -->\n    <div class=\"col-3\" style=\"margin-top: 85px;\">\n      <h5>Disabled</h5>\n      <br>\n      <draggable class=\"list-group\" :list=\"disabledrules\" group=\"rules\" @change=\"log\">\n        <div\n          class=\"list-group-item\"\n          v-for=\"(element, index) in disabledrules\"\n          :key=\"index\"\n          style=\"padding-top: 0.25rem;padding-bottom: 0.25rem;\"\n        >\n          {{ element }}\n        </div>\n      </draggable>\n    </div>\n\n    <b-button type=\"button\" variant=\"primary\" @click=\"updateStatus()\"\n    style=\"width: 150px;margin-left: 30px;margin-top:136px;height:40px;\">Update</b-button>\n    <alert :message=message v-if=\"showMessage\" style=\"width: 150px;margin-left: 30px;margin-top:136px;height:40px;\"></alert>\n  </div>\n  </div>\n</template>\n<script>\n\nimport axios from 'axios';\nimport Alert from './Alert.vue';\nimport draggable from 'vuedraggable'\nimport leftNav from './leftNav.vue';\n\nexport default {\n  name: \"activate-rules\",\n  display: \"Activate Rules\",\n  order: 1,\n  components: {\n    alert: Alert,\n    leftNav: leftNav,\n    draggable,\n  },\n  data() {\n    return {\n      enabledrules: [],\n      disabledrules: [],\n      message: '',\n      showMessage: false,\n    };\n  },\n  methods: {\n    // Fetch all the business rules from the server\n    getrules() {\n      const path = 'http://localhost:5000/busrules';\n      axios.post(path)\n        .then((res) => {\n          let ruleValue = '';\n          let ruleSubvalue = '';\n          const erule = [];\n          const drule = [];\n          // Iterate business rules from the response data\n          Object.keys(res.data).forEach((key) => {\n            ruleValue = res.data[key];\n            // Iterate each business rule to get the value of enable key\n            Object.keys(ruleValue).forEach((key1) => {\n              ruleSubvalue = ruleValue[key1];\n              // Compare enable is true or not\n              if (ruleSubvalue == \"true\") {\n                erule.push(key);\n              }\n              else if (ruleSubvalue == \"false\") {\n                drule.push(key);\n              }\n            });\n          });\n          this.enabledrules = erule;\n          this.disabledrules = drule;\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    log: function(evt) {\n      window.console.log(evt);\n    },\n    // Update the rules based on enable status\n    updateStatus() {\n      const payload = {\n          enable : this.enabledrules,\n          disable : this.disabledrules,\n      };\n      const path = 'http://localhost:5000/activate';\n      axios.post(path, payload)\n        .then((resp) => {\n          this.message = 'Updated';\n          this.showMessage = true;\n          window.scrollTo(0, 0);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  created() {\n    this.getrules();\n  },\n};\n</script>"]}]}