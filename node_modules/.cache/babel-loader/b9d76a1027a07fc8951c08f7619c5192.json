{"remainingRequest":"/Users/snithinnarayanan/Booking/client/node_modules/babel-loader/lib/index.js!/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/snithinnarayanan/Booking/client/src/components/display.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/snithinnarayanan/Booking/client/src/components/display.vue","mtime":1580549221084},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/snithinnarayanan/Booking/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgQWxlcnQgZnJvbSAnLi9BbGVydC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvdHNzOiBbXSwKICAgICAgbG90Y29kZTogW10sCiAgICAgIGNpdHljb2RlOiBbXSwKICAgICAgbG90OiAnJywKICAgICAga2V5OiAnJywKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHNob3dNZXNzYWdlOiBmYWxzZSwKICAgICAgZWRpdEZvcm06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgcmVhZDogW10KICAgICAgfQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGFsZXJ0OiBBbGVydAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0bG90czogZnVuY3Rpb24gZ2V0bG90cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmFsbChbYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvbG90cycpLCBheGlvcy5nZXQoJ2NpdGllcy5qc29uJyldKS50aGVuKGF4aW9zLnNwcmVhZChmdW5jdGlvbiAobG90Y29zdCwgY2l0eSkgewogICAgICAgIC8vICBjb25zb2xlLmxvZyhsb3Rjb3N0LmRhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKGNpdHkuZGF0YSk7CiAgICAgICAgdmFyIGNpdGllcyA9IGNpdHkuZGF0YTsKICAgICAgICB2YXIgbG90cyA9IE9iamVjdC5rZXlzKGxvdGNvc3QuZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2cobG90cyk7CiAgICAgICAgX3RoaXMubG90c3MgPSBbXTsKICAgICAgICBfdGhpcy5sb3Rjb2RlID0gW107CiAgICAgICAgX3RoaXMuY2l0eWNvZGUgPSBbXTsKICAgICAgICB2YXIgbG90MSA9IFtdOwogICAgICAgIHZhciBsb3QyID0gW107CiAgICAgICAgdmFyIGxvdDMgPSBbXTsKICAgICAgICBPYmplY3Qua2V5cyhjaXRpZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgdmFyIHZhbCA9IE9iamVjdC5rZXlzKGNpdGllc1trZXldKTsKICAgICAgICAgIHZhciBjaXR5bmFtZSA9IE9iamVjdC5rZXlzKGNpdGllcyk7CiAgICAgICAgICB2YXIgbGVuMSA9IHZhbC5sZW5ndGg7CiAgICAgICAgICB2YXIgbGVuMiA9IGxvdHMubGVuZ3RoOwogICAgICAgICAgdmFyIGN0dCA9IGtleTsKICAgICAgICAgIGNvbnNvbGUubG9nKGN0dCk7CiAgICAgICAgICBjb25zb2xlLmxvZyh2YWwpOwogICAgICAgICAgY29uc29sZS5sb2coY2l0eW5hbWUpOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuMTsgaSArPSAxKSB7CiAgICAgICAgICAgIHZhciBrZXkxID0gdmFsW2ldOwogICAgICAgICAgICB2YXIgdmFsMSA9IGNpdGllc1trZXldW2tleTFdOyAvLyAgY29uc29sZS5sb2coa2V5MSk7CgogICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjI7IGogKz0gMSkgewogICAgICAgICAgICAgIHZhciBrZXkyID0gbG90c1tqXTsgLy8gIGNvbnNvbGUubG9nKGtleTIpOwoKICAgICAgICAgICAgICBpZiAoa2V5MSA9PT0ga2V5MikgewogICAgICAgICAgICAgICAgbG90MS5wdXNoKHZhbDEpOwogICAgICAgICAgICAgICAgbG90Mi5wdXNoKGtleTEpOwogICAgICAgICAgICAgICAgbG90My5wdXNoKGtleSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMubG90c3MgPSBsb3QxOwogICAgICAgIF90aGlzLmxvdGNvZGUgPSBsb3QyOwogICAgICAgIF90aGlzLmNpdHljb2RlID0gbG90MzsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5sb3Rzcyk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBwcmljaW5nbG90OiBmdW5jdGlvbiBwcmljaW5nbG90KGxvdCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vICB0aGlzLmVkaXRGb3JtID0gbG90OwogICAgICAvLyAgY29uc3QgbG90aWQgPSBsb3Q7CiAgICAgIC8vICBjb25zb2xlLmxvZyh0aGlzLmVkaXRGb3JtKTsKICAgICAgdmFyIHBhdGggPSAiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2xvdHMvIi5jb25jYXQobG90KTsKICAgICAgYXhpb3MucHV0KHBhdGgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5tZXNzYWdlID0gJyc7CiAgICAgICAgX3RoaXMyLnNob3dNZXNzYWdlID0gdHJ1ZTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzcG9uc2UnKS5pbm5lckhUTUwgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CgogICAgICAgIF90aGlzMi5nZXRCb29rcygpOwogICAgICB9KTsKICAgIH0sCiAgICBsb3RidXNpbmVzczogZnVuY3Rpb24gbG90YnVzaW5lc3MobG90KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5lZGl0Rm9ybSA9IGxvdDsKICAgICAgdmFyIGxvdGlkID0gbG90OwogICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRGb3JtKTsKICAgICAgdmFyIHBhdGggPSAiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2xvdHMvYnVzaW5lc3MvIi5jb25jYXQobG90aWQpOwogICAgICBheGlvcy5wdXQocGF0aCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLm1lc3NhZ2UgPSAnJzsKICAgICAgICBfdGhpczMuc2hvd01lc3NhZ2UgPSB0cnVlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNwb25zZScpLmlubmVySFRNTCA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKCiAgICAgICAgX3RoaXMzLmdldEJvb2tzKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0bG90cygpOwogIH0KfTs="},{"version":3,"sources":["display.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-sm-10\">\n        <h1>Cost Model For Lots</h1>\n        <hr><br><br>\n        <alert :message=message v-if=\"showMessage\"></alert>\n        <br><br>\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Lot ID</th>\n              <th scope=\"col\">Lot Name</th>\n              <th scope=\"col\">City</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(lot, key) in lotss\" :key=\"key\" >\n              <td>{{ lotcode[key] }}</td>\n              <td>{{ lot }}</td>\n              <td>{{ citycode[key] }}</td>\n              <td>\n                <div class=\"btn-group\" role=\"group\">\n                  <button\n                          type=\"button\"\n                          class=\"btn btn-warning btn-sm\"\n                          v-b-modal.book-update-modal\n                          @click=\"pricinglot(lotcode[key])\"\n                          style=\"margin-right: 20px;\">\n                      Lot Pricing\n                  </button>\n                  <button\n                          type=\"button\"\n                          class=\"btn btn-warning btn-sm\"\n                          v-b-modal.book-update-modal\n                          @click=\"lotbusiness(lotcode[key])\">\n                      Lot Business Rules\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <b-modal ref=\"pricinglotModal\"\n            id=\"book-update-modal\"\n            title=\"\"\n            hide-footer>\n          <div id=\"response\" class=\"tablemodal\"></div>\n    </b-modal>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Alert from './Alert.vue';\n\nexport default {\n  data() {\n    return {\n      lotss: [],\n      lotcode: [],\n      citycode: [],\n      lot: '',\n      key: '',\n      message: '',\n      showMessage: false,\n      editForm: {\n        id: '',\n        title: '',\n        author: '',\n        read: [],\n      },\n    };\n  },\n  components: {\n    alert: Alert,\n  },\n  methods: {\n    getlots() {\n      axios.all([\n        axios.get('http://localhost:5000/lots'),\n        axios.get('cities.json'),\n      ])\n        .then(axios.spread((lotcost, city) => {\n          //  console.log(lotcost.data);\n          console.log(city.data);\n          const cities = city.data;\n          const lots = Object.keys(lotcost.data);\n          console.log(lots);\n          this.lotss = [];\n          this.lotcode = [];\n          this.citycode = [];\n          const lot1 = [];\n          const lot2 = [];\n          const lot3 = [];\n          Object.keys(cities).forEach((key) => {\n            const val = Object.keys(cities[key]);\n            const cityname = Object.keys(cities);\n            const len1 = val.length;\n            const len2 = lots.length;\n            const ctt = key;\n            console.log(ctt);\n            console.log(val);\n            console.log(cityname);\n            for (let i = 0; i < len1; i += 1) {\n              const key1 = val[i];\n              const val1 = cities[key][key1];\n              //  console.log(key1);\n              for (let j = 0; j < len2; j += 1) {\n                const key2 = lots[j];\n                //  console.log(key2);\n                if (key1 === key2) {\n                  lot1.push(val1);\n                  lot2.push(key1);\n                  lot3.push(key);\n                }\n              }\n            }\n          });\n          this.lotss = lot1;\n          this.lotcode = lot2;\n          this.citycode = lot3;\n          console.log(this.lotss);\n        }));\n    },\n    pricinglot(lot) {\n      //  this.editForm = lot;\n      //  const lotid = lot;\n      //  console.log(this.editForm);\n      const path = `http://localhost:5000/lots/${lot}`;\n      axios.put(path)\n        .then((res) => {\n          this.message = '';\n          this.showMessage = true;\n          document.getElementById('response').innerHTML = res.data;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },\n    lotbusiness(lot) {\n      this.editForm = lot;\n      const lotid = lot;\n      console.log(this.editForm);\n      const path = `http://localhost:5000/lots/business/${lotid}`;\n      axios.put(path)\n        .then((res) => {\n          this.message = '';\n          this.showMessage = true;\n          document.getElementById('response').innerHTML = res.data;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getBooks();\n        });\n    },\n  },\n  created() {\n    this.getlots();\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}